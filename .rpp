#!/bin/sh
#
# rperre's PROMPT
# This should be included on your bash profile script
#



one() {
	B=`git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/\1/'`
	if [ "$B" != "" ]
	then
		echo "{$(basename `pwd`)/${B//[[:blank:]]/}}"
	fi

}

two() {
	M=`git ls-files -m 2> /dev/null | wc -l`
	if [ "$M" -gt "0" ]
	then

		echo " M:${M//[[:blank:]]/}"
	fi
}

three() {
	U=`git ls-files --others --exclude-standard 2> /dev/null | wc -l`
	if [ "$U" -gt "0" ]
	then
		echo " U:${U//[[:blank:]]/}"
	fi
}


four() {
	B=`git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/\1/'`
	if [ "$B" != "" ]
	then
		echo ""
		echo "[G]"
	fi
}

five() {
	B=`git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/\1/'`
	if [ "$B" = "" ]
	then
		echo "[L]"
	fi	
}

six() {
	S=`git diff --cached --numstat | wc -l`
	if [ "$S" -gt "0" ]
	then
		echo " S:${S//[[:blank:]]/}"
	fi
}

HOST='\033[02;36m\]\h';


A='$(one)'
B='$(two)'
C='$(three)'
D='$(four)'
E='$(five)'
F='$(six)'

SH_RESET="\e[0m"

SH_WHITE="\[\033[1;37m\]"
SH_BLUE="\[\033[3;34m\]"
SH_RED="\[\033[1;31m\]"
SH_GREEN="\[\033[1;32m\]"
SH_YELLOW="\[\033[1;33m\]"

BL_ANGLE="\342\224\224"
TL_ANGLE="\342\224\214"
HORIZ_LINE="\342\224\200"

BRANCH_COLOR="\[\033[1;34m\]"
MODIFIED_COLOR="\[\033[1;31m\]"
UNTRACKED_COLOR="\[\033[1;31m\]"
GITFOLDER_COLOR="\[\033[1;33m\]"
NORMALFOLDER_COLOR="\[\033[1;32m\]"
STAGED_COLOR="\[\033[1;32m\]"

PS1="${BRANCH_COLOR}$A${MODIFIED_COLOR}$B${UNTRACKED_COLOR}$C${STAGED_COLOR}$F${GITFOLDER_COLOR}$D${NORMALFOLDER_COLOR}$E${SH_WHITE}[$USER]$ ${SH_RESET}"









###
